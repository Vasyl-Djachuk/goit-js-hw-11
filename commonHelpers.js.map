{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["'use strict';\nimport iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst gallery = document.querySelector(`.gallery`);\n\nconst form = document.querySelector(`.form`);\nform.addEventListener(`submit`, formSearch);\n\nfunction formSearch(event) {\n  event.preventDefault();\n  let userText = event.target.elements.search.value.trim();\n\n  if (userText === ``) {\n    iziToast.show({\n      message: '❌ Field must be filled in',\n      position: `topLeft`,\n      color: `red`,\n    });\n    return;\n  }\n  form.reset();\n  const parameters = new URLSearchParams({\n    key: `41274788-792c8d92905fcf9da75194117`,\n    q: `${userText}`,\n    image_type: `photo`,\n    orientation: `horizontal`,\n    // safesearch: `true`,\n  }).toString();\n\n  const urlSearch = `https://pixabay.com/api/?${parameters}`;\n  fetch(urlSearch)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n    .then(answerFromServer => {\n      if (answerFromServer.hits.length === 0) {\n        iziToast.show({\n          message:\n            '❌ Sorry, there are no images matching your search query. Please try again!',\n          position: `topLeft`,\n          color: `red`,\n        });\n        return;\n      }\n      galleryCreate(answerFromServer.hits);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n// const timeId = setTimeout();\nfunction galleryCreate(imageArrow) {\n  let listCode = ``;\n  imageArrow.forEach(image => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = image;\n\n    listCode += `<li class=\"gallery-item\">\n          <a class=\"link\" href=\"${largeImageURL}\">\n            <img class=\"form-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            <ul class=\"description-list\">\n              <li class=\"description-item\">\n                <p class=\"text-\">Likes</p>\n                <p class=\"number\">${likes}</p>\n              </li>\n              <li class=\"description-item\">\n                <p class=\"text-\">Views</p>\n                <p class=\"number\">${views}</p>\n              </li>\n              <li class=\"description-item\">\n                <p class=\"text-\">Comments</p>\n                <p class=\"number\">${comments}</p>\n              </li>\n              <li class=\"description-item\">\n                <p class=\"text-\">Downloads</p>\n                <p class=\"number\">${downloads}</p>\n              </li>\n            </ul>\n          </a>\n        </li>`;\n  });\n\n  gallery.insertAdjacentHTML('afterbegin', listCode);\n}\n\n// let listCode = ``;\n// for (const img of images) {\n//   listCode += `<li><img src=\"${img.url}\" alt=\"${img.alt}\" width=\"360\" height=\"300\"></li>`;\n// }\n// document.querySelector(`.gallery`).insertAdjacentHTML('afterbegin', listCode);\n\n//  const item = document.createElement(`li`);\n//  item.classList.add('gallery-item');\n\n//  const galleryImage = document.createElement(`img`);\n//  galleryImage.classList.add('gallery-image');\n//  galleryImage.src = preview;\n//  galleryImage.alt = alt;\n\n//  const link = document.createElement(`a`);\n//  link.classList.add(`gallery-link`);\n//  link.href = original;\n\n//  link.append(galleryImage);\n//  item.append(link);\n//  items.push(item);\n"],"names":["gallery","form","formSearch","event","userText","iziToast","urlSearch","response","answerFromServer","galleryCreate","error","imageArrow","listCode","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"svBAIA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,CAAU,EAE1C,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpB,IAAIC,EAAWD,EAAM,OAAO,SAAS,OAAO,MAAM,OAElD,GAAIC,IAAa,GAAI,CACnBC,EAAS,KAAK,CACZ,QAAS,4BACT,SAAU,UACV,MAAO,KACb,CAAK,EACD,MACD,CACDJ,EAAK,MAAK,EASV,MAAMK,EAAY,4BARC,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GAAGF,IACN,WAAY,QACZ,YAAa,YAEjB,CAAG,EAAE,SAAQ,IAGX,MAAME,CAAS,EACZ,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAoB,CACxB,GAAIA,EAAiB,KAAK,SAAW,EAAG,CACtCH,EAAS,KAAK,CACZ,QACE,6EACF,SAAU,UACV,MAAO,KACjB,CAAS,EACD,MACD,CACDI,EAAcD,EAAiB,IAAI,CACzC,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CAEA,SAASD,EAAcE,EAAY,CACjC,IAAIC,EAAW,GACfD,EAAW,QAAQE,GAAS,CAC1B,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJD,GAAY;AAAA,kCACkBG;AAAA,yCACOD,WAAsBE;AAAA;AAAA;AAAA;AAAA,oCAI3BC;AAAA;AAAA;AAAA;AAAA,oCAIAC;AAAA;AAAA;AAAA;AAAA,oCAIAC;AAAA;AAAA;AAAA;AAAA,oCAIAC;AAAA;AAAA;AAAA;AAAA,cAKpC,CAAG,EAEDpB,EAAQ,mBAAmB,aAAcY,CAAQ,CACnD"}